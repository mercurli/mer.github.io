<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
<title>M的小酒馆</title>
<link rel="icon" href="/favicon.png">
<link rel="stylesheet" href="/css/style.css">

<script src="/js/lib/jquery.min.js"></script>
<script src="/js/index.js"></script>
</head>
<body>
	<header class="header">
	<div class="container">
		<nav class="nav">
			
			<a class="nav-item" href="/">Home</a>
			
			<a class="nav-item" href="/archives">Archives</a>
			
			<a class="nav-item" href="/about">About</a>
			
		</nav>
		<div class="avatar">
			<a href="/about"><img src="/assets/img/avatar.png"></a>
		</div>
	</div>
</header>
	<main class="main">
		<div class="container"><section class="article-content">
	<article class="article-post item-container">
		<header class="article-header">
			<h1 class="article-title text-center">pdfjs不支持低版本IE11</h1>
			<p>
				
				<time datetime="Sun Sep 13 2020 21:24:00 GMT+0800" class="article-date iconfont icon-date">2020-09-13 21:24:00</time>
				
			
			
				<a href="/tags/BUG/#more" class="tag iconfont icon-tag">BUG</a>
			
			
			</p>
		</header>
		<div class="article-body article-entry"><p>最近负责公司的系统升级，因决定要支持Chrome浏览器，所以将系统前端中所有的ActiveX的调用方式全换了。升级之后，使用pdfjs作为前端渲染PDF的库。</p>
<a id="more"></a>
<p>上线之后发现客户中有部分win7电脑的IE11看不了PDF，打开之后一片空白，控制台报<strong>Uint8ClampedArray未定义</strong>，查看IE版本是11.0.xx，且更新版本中带RTM。</p>
<p>初步考虑升级IE版本，但IE升级需要升级系统比较麻烦。最后查看<a href="https://github.com/mozilla/pdf.js/releases" target="_blank" rel="noopener">pdfjs版本</a>的更新日志，发现在v1.10.88版本开始使用<strong>Uint8ClampedArray</strong>对象，因此在v1.9.426及之前的版本应该都可以解决问题。为避免其他的坑，我使用了<strong>v1.2.109</strong>，成功解决问题。</p>
</div>
		<footer class="article-footer">
			<p>--- End ---</p>
		</footer>
	</article>
</section></div>
	</main>
	<footer class="footer">
	<div class="container">
		<p>
			<span>Theme By <a href="" target="_blank">Mer</a>.&nbsp;&nbsp;</span>
			<span>Powered By <a href="https://hexo.io/" target="_blank">Hexo</a>.</span>
		</p>
		<p>
			<span></span>
		</p>
	</div>
</footer>
</body>
</html>